{% extends "base.html" %}
{% load static %}
{% block title %}User{% endblock title %}
{% block content %}
    <style>
         .page{
             display: flex;
             justify-content: space-between;

         }
        .avatar {
            background-color: rgba(240, 248, 255, 0.25);
            vertical-align: middle;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border-color: rgba(0, 0, 0, 0.5);
            border-width: 3px;
            border-style: dashed;

        }
        .user_page{
            background-color: rgba(55,61,226,0.53);
            border-radius: 20px 20px 20px 20px;
            padding: 20px;
            text-align: center;
            color: white;
            background-position: left;
            background-size: 40%;
            width: 30%;
            height: 100%;
            margin: 0px;
        }
        .calendar{
            background-color: rgba(89, 105, 184, 0.38);
            border-radius: 20px 20px 20px 20px;
            text-align: center;
            color: white;
            background-position: center;
            margin: 5px;
            padding: 10px;
            width: 70%;
            height: 80%;
         }
        body {
             font-family: Arial;
             background-color: black;
         }
        p.exer1{
            background-color: rgba(149,144,156,0.38);
            border-radius: 3px 3px 3px 3px;

        }
        a{
            text-decoration: none;
            color: cornsilk;
            font-family: Arial;
        }
        .header{

        }
        .filter{
            background-color: rgba(230,21,19,0.8);
            text-align: center;
            color: white;
            margin: 5px;
            width: 100%;
            height: 20%;
        }
    </style>
    <div class="page">
        <div class="user_page">
            <div class="header">
                <img src="{% static 'images/avatar.png' %}" alt="Avatar" class="avatar">
                <p>First name: {{ user.last_name }}</p>
                <p>Last name: {{ user.last_name }}</p>
                <p>Email: {{ user.email }}</p>
                <p>Company: {{ user.department.company.name }}</p>
                <p>Department: {{ user.department.name }}</p>
                <p>Post: {{ user.post }}</p>
            </div>
            <div class="exer">
                <p class="exer1"><a href="{% url 'change-data' %}">Изменить собственные данные</a></p>
                <p class="exer1"><a href="setting.html">настройки</a></p>
                <p class="exer1"><a href="setting.html">задачи</a></p>
                <p class="exer1"><a href="setting.html">выход</a></p>
            </div>
        </div>
        <div class="calendar">
            <div class="filter">
                <p>filter</p>
            </div>
            <div class="calendar1">
                <h2>Calendar</h2>
                    <form method="POST">
                        {% csrf_token %}
                        <select name="month">
                          {% for month in months %}
                                <option value="{{ month }}" {% if forloop.counter == current_month %}selected{% endif %}>{{ month }}</option>
                          {% endfor %}
                        </select>
                        <select name="year">
                            {% for year in years %}
                                <option value="{{ year }}" {% if year == current_year %}selected{% endif %}>{{ year }}</option>
                            {% endfor %}
                        </select>
                        <button>apply</button>
                    </form>
                <p></p>
                <table align="center">
                  <tbody>
                    <tr>
                      <th>Monday</th>
                      <th>Tuesday</th>
                      <th>Wednesday</th>
                      <th>Thursday</th>
                      <th>Friday</th>
                      <th>Saturday</th>
                      <th>Sunday</th>
                    </tr>
                    {% for week in weeks %}
                        <tr>
                            {% for day in week %}
                                <td>
                                    {% if day is not None %}
                                        {% if not day.is_working_day %}
                                            <font color="red">{{ day.num }}</font>
                                        {% else %}
                                            {{ day.num }}
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                  </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock content %}